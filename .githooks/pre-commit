#!/usr/bin/env bash
set -euo pipefail

if git diff --cached -U0 | grep -E 'sk-or-[A-Za-z0-9_-]{10,}' >/dev/null; then
  echo "Error: OpenRouter API key detected in staged changes." >&2
  echo "Remove the key or store it in .env (ignored by git)." >&2
  exit 1
fi
